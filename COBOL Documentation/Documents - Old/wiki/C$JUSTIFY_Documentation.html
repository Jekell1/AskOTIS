<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C$JUSTIFY Function Documentation</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 40px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        h2 {
            color: #34495e;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 8px;
            margin-top: 30px;
        }
        h3 {
            color: #2980b9;
            margin-top: 25px;
        }
        .note {
            background-color: #e8f6f3;
            border-left: 4px solid #16a085;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .warning {
            background-color: #fdf2e9;
            border-left: 4px solid #e67e22;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .code-example {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 90%;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: white;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #3498db;
            color: white;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        tr:hover {
            background-color: #f5f5f5;
        }
        code {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 3px;
            padding: 2px 6px;
            font-family: 'Courier New', monospace;
            font-size: 90%;
        }
        .metadata {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
        }
        .toc {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
        }
        .toc ul {
            list-style-type: none;
            padding-left: 0;
        }
        .toc li {
            margin: 8px 0;
        }
        .toc a {
            text-decoration: none;
            color: #2980b9;
            font-weight: 500;
        }
        .toc a:hover {
            text-decoration: underline;
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin: 8px 0;
        }
        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            text-align: center;
            font-size: 18px;
            cursor: pointer;
            display: none;
            text-decoration: none;
            line-height: 50px;
        }
        .back-to-top:hover {
            background-color: #2980b9;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>C$JUSTIFY Function Documentation</h1>
        
        <div class="metadata">
            <strong>Function Name:</strong> C$JUSTIFY<br>
            <strong>Type:</strong> ACCUCOBOL System Function<br>
            <strong>Purpose:</strong> Text Justification Utility<br>
            <strong>Generated Date:</strong> July 17, 2025<br>
            <strong>Called By:</strong> LONPF7 and other programs requiring text formatting
        </div>

        <div class="toc">
            <h2>Table of Contents</h2>
            <ul>
                <li><a href="#overview">Function Overview</a></li>
                <li><a href="#purpose">Purpose and Functionality</a></li>
                <li><a href="#syntax">Syntax and Parameters</a></li>
                <li><a href="#modes">Justification Modes</a></li>
                <li><a href="#examples">Usage Examples</a></li>
                <li><a href="#implementation">Implementation in LONPF7</a></li>
                <li><a href="#considerations">Performance Considerations</a></li>
                <li><a href="#related">Related Functions</a></li>
            </ul>
        </div>

        <h2 id="overview">Function Overview</h2>
        
        <p><strong>C$JUSTIFY</strong> is a built-in ACCUCOBOL system function that provides text justification capabilities. It allows programs to format text strings by aligning them to the left, right, or center within a field, and can also remove leading or trailing spaces.</p>

        <h3>Key Capabilities</h3>
        <ul>
            <li><strong>Left Justification</strong>: Removes leading spaces and left-aligns text</li>
            <li><strong>Right Justification</strong>: Removes trailing spaces and right-aligns text</li>
            <li><strong>Center Justification</strong>: Centers text within the field</li>
            <li><strong>Space Trimming</strong>: Removes unwanted leading or trailing spaces</li>
            <li><strong>Field Formatting</strong>: Formats text for display or processing</li>
        </ul>

        <h2 id="purpose">Purpose and Functionality</h2>

        <p>C$JUSTIFY serves as a text formatting utility that:</p>

        <ul>
            <li>Standardizes text alignment for display purposes</li>
            <li>Removes unwanted whitespace from text fields</li>
            <li>Prepares text data for consistent presentation</li>
            <li>Formats user input for processing</li>
            <li>Ensures proper text alignment in reports and screens</li>
        </ul>

        <h2 id="syntax">Syntax and Parameters</h2>

        <h3>Function Call Syntax</h3>
        <div class="code-example">
CALL "C$JUSTIFY" USING text-field, justification-mode
        </div>

        <h3>Parameters</h3>
        <table>
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>text-field</strong></td>
                    <td>PIC X(n)</td>
                    <td>The text field to be justified (modified in place)</td>
                </tr>
                <tr>
                    <td><strong>justification-mode</strong></td>
                    <td>PIC X(1)</td>
                    <td>The type of justification to perform</td>
                </tr>
            </tbody>
        </table>

        <h2 id="modes">Justification Modes</h2>

        <h3>Available Modes</h3>
        <table>
            <thead>
                <tr>
                    <th>Mode</th>
                    <th>Description</th>
                    <th>Effect</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>"L"</strong></td>
                    <td>Left Justify</td>
                    <td>Removes leading spaces, left-aligns text</td>
                </tr>
                <tr>
                    <td><strong>"R"</strong></td>
                    <td>Right Justify</td>
                    <td>Removes trailing spaces, right-aligns text</td>
                </tr>
                <tr>
                    <td><strong>"C"</strong></td>
                    <td>Center Justify</td>
                    <td>Centers text within the field</td>
                </tr>
                <tr>
                    <td><strong>"T"</strong></td>
                    <td>Trim</td>
                    <td>Removes both leading and trailing spaces</td>
                </tr>
            </tbody>
        </table>

        <h3>Mode Details</h3>

        <h4>Left Justification ("L")</h4>
        <ul>
            <li>Removes all leading spaces</li>
            <li>Moves text to the leftmost position</li>
            <li>Preserves trailing spaces</li>
            <li>Most commonly used mode</li>
        </ul>

        <h4>Right Justification ("R")</h4>
        <ul>
            <li>Removes all trailing spaces</li>
            <li>Moves text to the rightmost position</li>
            <li>Preserves leading spaces</li>
            <li>Useful for numeric display alignment</li>
        </ul>

        <h4>Center Justification ("C")</h4>
        <ul>
            <li>Centers text within the field</li>
            <li>Distributes spaces equally on both sides</li>
            <li>Removes leading and trailing spaces first</li>
            <li>Useful for headers and titles</li>
        </ul>

        <h4>Trim ("T")</h4>
        <ul>
            <li>Removes both leading and trailing spaces</li>
            <li>Compacts text without repositioning</li>
            <li>Useful for data cleanup</li>
        </ul>

        <h2 id="examples">Usage Examples</h2>

        <h3>Basic Examples</h3>

        <div class="code-example">
* Left justify a field
01  TEXT-FIELD    PIC X(20) VALUE "   HELLO WORLD   ".
01  JUSTIFY-MODE  PIC X(1)  VALUE "L".

CALL "C$JUSTIFY" USING TEXT-FIELD, JUSTIFY-MODE.
* Result: "HELLO WORLD        "
        </div>

        <div class="code-example">
* Right justify a field  
01  TEXT-FIELD    PIC X(20) VALUE "   HELLO WORLD   ".
01  JUSTIFY-MODE  PIC X(1)  VALUE "R".

CALL "C$JUSTIFY" USING TEXT-FIELD, JUSTIFY-MODE.
* Result: "        HELLO WORLD"
        </div>

        <div class="code-example">
* Center justify a field
01  TEXT-FIELD    PIC X(20) VALUE "   HELLO WORLD   ".
01  JUSTIFY-MODE  PIC X(1)  VALUE "C".

CALL "C$JUSTIFY" USING TEXT-FIELD, JUSTIFY-MODE.
* Result: "   HELLO WORLD    "
        </div>

        <h3>Advanced Examples</h3>

        <div class="code-example">
* Trim all spaces
01  TEXT-FIELD    PIC X(20) VALUE "   HELLO WORLD   ".
01  JUSTIFY-MODE  PIC X(1)  VALUE "T".

CALL "C$JUSTIFY" USING TEXT-FIELD, JUSTIFY-MODE.
* Result: "HELLO WORLD        "
        </div>

        <h2 id="implementation">Implementation in LONPF7</h2>

        <h3>LONPF7 Usage Context</h3>
        <p>In LONPF7, C$JUSTIFY is used specifically for formatting VDU buffer content:</p>

        <div class="code-example">
CALL "C$JUSTIFY" USING VDUBUF, "L".
        </div>

        <h3>Purpose in LONPF7</h3>
        <ul>
            <li><strong>Data Cleanup</strong>: Removes leading spaces from user input</li>
            <li><strong>Display Formatting</strong>: Ensures consistent field presentation</li>
            <li><strong>Input Processing</strong>: Standardizes data before validation</li>
            <li><strong>Screen Management</strong>: Prepares fields for VDU processing</li>
        </ul>

        <h3>Typical Use Cases</h3>
        <table>
            <thead>
                <tr>
                    <th>Use Case</th>
                    <th>Mode</th>
                    <th>Purpose</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>User Input Cleanup</strong></td>
                    <td>"L"</td>
                    <td>Remove leading spaces from entered data</td>
                </tr>
                <tr>
                    <td><strong>Payoff Code Entry</strong></td>
                    <td>"L"</td>
                    <td>Format payoff codes for processing</td>
                </tr>
                <tr>
                    <td><strong>Field Validation</strong></td>
                    <td>"T"</td>
                    <td>Clean data before validation checks</td>
                </tr>
                <tr>
                    <td><strong>Display Preparation</strong></td>
                    <td>"L"</td>
                    <td>Format fields for screen display</td>
                </tr>
            </tbody>
        </table>

        <h2 id="considerations">Performance Considerations</h2>

        <h3>Efficiency</h3>
        <ul>
            <li><strong>In-Place Modification</strong>: Modifies the original field, no copying required</li>
            <li><strong>System Function</strong>: Optimized native implementation</li>
            <li><strong>Minimal Overhead</strong>: Very fast execution for text formatting</li>
            <li><strong>No Memory Allocation</strong>: Works within existing field boundaries</li>
        </ul>

        <h3>Best Practices</h3>
        <ul>
            <li><strong>Use Appropriate Mode</strong>: Choose the correct justification for the purpose</li>
            <li><strong>Consider Field Size</strong>: Ensure field is large enough for the text</li>
            <li><strong>Validate After Justify</strong>: Perform validation after text formatting</li>
            <li><strong>Consistent Usage</strong>: Use consistent justification throughout the application</li>
        </ul>

        <h3>Limitations</h3>
        <div class="warning">
            <p><strong>Important Limitations:</strong></p>
            <ul>
                <li><strong>Field Modification</strong>: The original field is modified in place</li>
                <li><strong>Fixed Length</strong>: Cannot extend beyond the defined field length</li>
                <li><strong>Space Handling</strong>: Only handles space characters, not other whitespace</li>
                <li><strong>Single Operation</strong>: Performs only one type of justification per call</li>
            </ul>
        </div>

        <h2 id="related">Related Functions</h2>

        <h3>Other ACCUCOBOL Text Functions</h3>
        <table>
            <thead>
                <tr>
                    <th>Function</th>
                    <th>Purpose</th>
                    <th>Relationship to C$JUSTIFY</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>C$TOUPPER</strong></td>
                    <td>Convert to uppercase</td>
                    <td>Often used together for text standardization</td>
                </tr>
                <tr>
                    <td><strong>C$TOLOWER</strong></td>
                    <td>Convert to lowercase</td>
                    <td>Complementary text formatting function</td>
                </tr>
                <tr>
                    <td><strong>C$NARG</strong></td>
                    <td>Count arguments</td>
                    <td>Used in functions that call C$JUSTIFY</td>
                </tr>
                <tr>
                    <td><strong>INSPECT</strong></td>
                    <td>Character replacement</td>
                    <td>Can be used before justification for cleanup</td>
                </tr>
            </tbody>
        </table>

        <h3>Alternative COBOL Approaches</h3>
        <ul>
            <li><strong>STRING/UNSTRING</strong>: For more complex text manipulation</li>
            <li><strong>INSPECT</strong>: For character-by-character processing</li>
            <li><strong>MOVE with editing</strong>: For simple formatting tasks</li>
            <li><strong>Custom routines</strong>: For specialized formatting requirements</li>
        </ul>

        <div class="note">
            <p><strong>Note:</strong> C$JUSTIFY is a highly efficient ACCUCOBOL system function that provides essential text formatting capabilities. Its simplicity and performance make it ideal for common text justification tasks throughout COBOL applications. In LONPF7, it serves the specific purpose of formatting VDU buffer content to ensure consistent data presentation and processing.</p>
        </div>

        <a href="#" class="back-to-top">â†‘ Top</a>

        <script>
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

            // Show/hide back to top button
            window.addEventListener('scroll', function() {
                const backToTop = document.querySelector('.back-to-top');
                if (window.scrollY > 300) {
                    backToTop.style.display = 'block';
                } else {
                    backToTop.style.display = 'none';
                }
            });
        </script>
    </div>
</body>
</html>
