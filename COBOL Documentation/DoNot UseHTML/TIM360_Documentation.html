<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TIM360 Utility Documentation</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#e1f5fe',
                primaryTextColor: '#01579b',
                primaryBorderColor: '#0277bd',
                lineColor: '#0288d1',
                secondaryColor: '#f3e5f5',
                tertiaryColor: '#e8f5e8'
            }
        });
    </script>
</head>
<body>
    <div class="container">
        <nav class="breadcrumb">
            <a href="index.html">Home</a> &gt; <span class="current">TIM360 Utility Documentation</span>
        </nav>
        <main class="content">
<h1>TIM360 Utility Documentation</h1>
<p><strong>Program ID:</strong> TIM360<br />
<strong>Program Type:</strong> Date/Time Processing Utility<br />
<strong>Location:</strong> .\APIPAY_Inlined.CBL<br />
<strong>Generated on:</strong> 2024-12-19 14:30:00</p>
<h2>Table of Contents</h2>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#purpose">Purpose</a></li>
<li><a href="#business-context">Business Context</a></li>
<li><a href="#technical-specifications">Technical Specifications</a></li>
<li><a href="#implementation-details">Implementation Details</a></li>
<li><a href="#usage-examples">Usage Examples</a></li>
<li><a href="#error-handling">Error Handling</a></li>
<li><a href="#performance-considerations">Performance Considerations</a></li>
<li><a href="#related-components">Related Components</a></li>
</ul>
<h2>Overview</h2>
<p>TIM360 is a specialized date/time processing utility within the APIPAY system that performs elapsed time calculations using a 360-day year convention. This utility is commonly used in financial calculations where a standardized 360-day year (12 months Ã— 30 days) is preferred for consistent interest calculations and payment scheduling.</p>
<h2>Purpose</h2>
<p>The TIM360 utility provides:
- <strong>360-Day Year Calculations</strong>: Performs time calculations using 360-day year standard
- <strong>Financial Date Arithmetic</strong>: Supports standard banking and financial industry conventions
- <strong>Consistent Time Periods</strong>: Ensures uniform monthly periods of 30 days each
- <strong>Integration Support</strong>: Works seamlessly with other APIPAY timing utilities</p>
<h2>Business Context</h2>
<p>TIM360 is critical for:
- <strong>Interest Calculations</strong>: Many financial instruments use 360-day year conventions
- <strong>Payment Scheduling</strong>: Ensures consistent monthly payment calculations
- <strong>Regulatory Compliance</strong>: Meets standard banking calculation requirements
- <strong>Account Processing</strong>: Supports accurate payment and accrual calculations</p>
<p>The 360-day year convention is widely used in:
- Commercial loans
- Money market instruments
- Short-term investments
- Payment calculation systems</p>
<h2>Technical Specifications</h2>
<h3>Input Parameters</h3>
<ul>
<li><strong>NUM-DATE</strong>: Starting date (YYYYMMDD format)</li>
<li><strong>SYS-DATE</strong>: Ending date (YYYYMMDD format)</li>
<li><strong>ELAPSED-YRTYPE</strong>: Set to 360 for this utility</li>
</ul>
<h3>Output Parameters</h3>
<ul>
<li><strong>ELAPSED-DAYS</strong>: Total elapsed days using 360-day year</li>
<li><strong>ELAPSED-MONTHS</strong>: Elapsed months</li>
<li><strong>ELAPSED-REM</strong>: Remaining days after month calculation</li>
<li><strong>ELAPSED-RESULTS</strong>: Comparison results (LT, GT, EQ, etc.)</li>
</ul>
<h3>Processing Logic</h3>
<pre><code class="language-cobol">TIM360 SECTION.
    MOVE 360 TO ELAPSED-YRTYPE.
    PERFORM TIMALL.
</code></pre>
<h2>Implementation Details</h2>
<h3>Core Processing Steps</h3>
<ol>
<li><strong>Year Type Configuration</strong></li>
<li>Sets ELAPSED-YRTYPE to 360</li>
<li>
<p>Configures calculation method for 360-day year</p>
</li>
<li>
<p><strong>Calculation Delegation</strong></p>
</li>
<li>Calls TIMALL with 360-day parameter</li>
<li>
<p>Leverages common timing calculation logic</p>
</li>
<li>
<p><strong>Result Generation</strong></p>
</li>
<li>Returns standardized elapsed time results</li>
<li>Provides multiple output formats</li>
</ol>
<h3>Key Features</h3>
<ul>
<li><strong>Simplified Interface</strong>: Single entry point with standard parameters</li>
<li><strong>360-Day Convention</strong>: Uses banking industry standard year length</li>
<li><strong>Integration Ready</strong>: Compatible with all APIPAY timing operations</li>
<li><strong>Consistent Results</strong>: Ensures predictable calculation outcomes</li>
</ul>
<h2>Usage Examples</h2>
<h3>Basic Time Calculation</h3>
<pre><code class="language-cobol">* Calculate elapsed time using 360-day year
MOVE 20240101 TO NUM-DATE
MOVE 20241231 TO SYS-DATE
PERFORM TIM360
* Results available in ELAPSED-DAYS, ELAPSED-MONTHS, etc.
</code></pre>
<h3>Interest Period Calculation</h3>
<pre><code class="language-cobol">* Calculate payment periods for loan interest
MOVE LOAN-START-DATE TO NUM-DATE
MOVE CURRENT-DATE TO SYS-DATE
PERFORM TIM360
* Use ELAPSED-MONTHS for payment calculations
</code></pre>
<h3>Financial Instrument Processing</h3>
<pre><code class="language-cobol">* Calculate maturity periods
MOVE INSTRUMENT-ISSUE-DATE TO NUM-DATE
MOVE INSTRUMENT-MATURITY-DATE TO SYS-DATE
PERFORM TIM360
</code></pre>
<h2>Error Handling</h2>
<h3>Input Validation</h3>
<ul>
<li>Zero date handling managed by TIMALL</li>
<li>Invalid date format detection</li>
<li>Boundary condition management</li>
</ul>
<h3>Error Recovery</h3>
<ul>
<li>Graceful handling of invalid inputs</li>
<li>Consistent error result formatting</li>
<li>Maintains system stability</li>
</ul>
<h3>Common Error Scenarios</h3>
<ul>
<li><strong>Zero Dates</strong>: Returns zero values for elapsed time</li>
<li><strong>Invalid Formats</strong>: Handled by underlying date routines</li>
<li><strong>Out of Range</strong>: Managed by TIMALL processing</li>
</ul>
<h2>Performance Considerations</h2>
<h3>Efficiency Features</h3>
<ul>
<li><strong>Minimal Overhead</strong>: Simple parameter setup and delegation</li>
<li><strong>Optimized Calculation</strong>: Leverages proven TIMALL algorithms</li>
<li><strong>Fast Execution</strong>: Direct calculation without complex logic</li>
</ul>
<h3>Usage Guidelines</h3>
<ul>
<li>Suitable for high-volume processing</li>
<li>Consistent performance across date ranges</li>
<li>Minimal system resource requirements</li>
</ul>
<h2>Related Components</h2>
<h3>Direct Dependencies</h3>
<ul>
<li><strong><a href="TIMALL_Documentation.html">TIMALL</a></strong>: Core timing calculation engine</li>
<li><strong><a href="DATER-ROUTINE_Documentation.html">DATER-ROUTINE</a></strong>: Date processing foundation</li>
</ul>
<h3>Related Utilities</h3>
<ul>
<li><strong><a href="TIM365_Documentation.html">TIM365</a></strong>: 365-day year calculations</li>
<li><strong><a href="TIM361_Documentation.html">TIM361</a></strong>: 361-day year calculations</li>
<li><strong><a href="TIM362_Documentation.html">TIM362</a></strong>: 362-day year calculations</li>
<li><strong><a href="TIM999_Documentation.html">TIM999</a></strong>: Actual day calculations</li>
</ul>
<h3>Integration Points</h3>
<ul>
<li>Used throughout APIPAY for 360-day financial calculations</li>
<li>Integrated with interest calculation modules</li>
<li>Supports payment processing systems</li>
</ul>
<h2>Diagrams</h2>
<h3>Main Flow Diagram</h3>
<p><img alt="TIM360 Main Flow" src="../Diagrams/TIM360_Main_Flow.svg" /></p>
<h3>Call Graph</h3>
<p><img alt="TIM360 Call Graph" src="../Diagrams/TIM360_Call_Graph.svg" /></p>
<hr />
<p><em>This documentation is automatically generated from the COBOL source code and is intended for system maintenance and integration purposes.</em></p>
        </main>
        <footer>
            <p>Generated on 2025-07-22 16:03:01</p>
        </footer>
    </div>
</body>
</html>