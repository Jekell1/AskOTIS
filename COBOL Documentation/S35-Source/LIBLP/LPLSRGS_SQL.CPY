      * COPYMEMBER: LIBLP/LPLSRGS_SQL
      ******************************************************************
      *
      * DESCRIPTION: SQL GET & SET - LOAN STATUS - RESCHEDULE/SCRA
      *
      *=================================================================
      * REV:
      * AMM 2021-0510 ***NEW***
      *
      ******************************************************************
      *-----------------------------------------------------------------
      *    LOAD LSR-REC FROM QLSR-REC; FOR READ & READ-NEXT
      *-----------------------------------------------------------------
       GET-LSR-FIELDS.
           MOVE QLSR-BRNO TO LSR-BRNO.
           MOVE QLSR-ACCTNO TO LSR-ACCTNO.
           MOVE QLSR-SEQNO TO LSR-SEQNO.

           IF ( QLSR-LTOUCH-DATE = "1900-01-01" )
              MOVE ZEROES TO LSR-LTOUCH-DATE
           ELSE
              MOVE QLSR-LTOUCH-DATE TO SQL-DATE-YYYY-MM-DD
              PERFORM SQL-GET-DATE
              MOVE SQL-DATE-YYYYMMDD TO LSR-LTOUCH-DATE.

           MOVE QLSR-SCRA-ACTIVE TO LSR-SCRA-ACTIVE.

           IF ( QLSR-SCRA-START-DATE = "1900-01-01" )
              MOVE ZEROES TO LSR-SCRA-START-DATE
           ELSE
              MOVE QLSR-SCRA-START-DATE TO SQL-DATE-YYYY-MM-DD
              PERFORM SQL-GET-DATE
              MOVE SQL-DATE-YYYYMMDD TO LSR-SCRA-START-DATE.


           IF ( QLSR-SCRA-END-DATE = "1900-01-01" )
              MOVE ZEROES TO LSR-SCRA-END-DATE
           ELSE
              MOVE QLSR-SCRA-END-DATE TO SQL-DATE-YYYY-MM-DD
              PERFORM SQL-GET-DATE
              MOVE SQL-DATE-YYYYMMDD TO LSR-SCRA-END-DATE.

           MOVE QLSR-SCRA-BORROWER TO LSR-SCRA-BORROWER.

           IF ( QLSR-CURRENT-RESCHED-DATE = "1900-01-01" )
              MOVE ZEROES TO LSR-CURRENT-RESCHED-DATE
           ELSE
              MOVE QLSR-CURRENT-RESCHED-DATE TO SQL-DATE-YYYY-MM-DD
              PERFORM SQL-GET-DATE
              MOVE SQL-DATE-YYYYMMDD TO LSR-CURRENT-RESCHED-DATE.

           MOVE QLSR-CURRENT-REASON-CODE TO LSR-CURRENT-REASON-CODE.

           IF ( QLSR-INITIAL-RESCHED-DATE = "1900-01-01" )
              MOVE ZEROES TO LSR-INITIAL-RESCHED-DATE
           ELSE
              MOVE QLSR-INITIAL-RESCHED-DATE TO SQL-DATE-YYYY-MM-DD
              PERFORM SQL-GET-DATE
              MOVE SQL-DATE-YYYYMMDD TO LSR-INITIAL-RESCHED-DATE.

           MOVE QLSR-INITIAL-REASON-CODE TO LSR-INITIAL-REASON-CODE.

           IF ( QLSR-INITIAL-TDR-DATE = "1900-01-01" )
              MOVE ZEROES TO LSR-INITIAL-TDR-DATE
           ELSE
              MOVE QLSR-INITIAL-TDR-DATE TO SQL-DATE-YYYY-MM-DD
              PERFORM SQL-GET-DATE
              MOVE SQL-DATE-YYYYMMDD TO LSR-INITIAL-TDR-DATE.

           MOVE QLSR-INITIAL-TDR-REASON TO LSR-INITIAL-TDR-REASON.

           IF ( QLSR-CURRENT-TDR-DATE = "1900-01-01" )
              MOVE ZEROES TO LSR-CURRENT-TDR-DATE
           ELSE
              MOVE QLSR-CURRENT-TDR-DATE TO SQL-DATE-YYYY-MM-DD
              PERFORM SQL-GET-DATE
              MOVE SQL-DATE-YYYYMMDD TO LSR-CURRENT-TDR-DATE.

           MOVE QLSR-CURRENT-TDR-REASON TO LSR-CURRENT-TDR-REASON.
 
      *-----------------------------------------------------------------
      *    LOAD QLSR-REC FROM LSR-REC; FOR WRITE & REWRITE
      *-----------------------------------------------------------------
       SET-LSR-FIELDS.
           MOVE LSR-BRNO TO QLSR-BRNO.
           MOVE LSR-ACCTNO TO QLSR-ACCTNO.
           MOVE LSR-SEQNO TO QLSR-SEQNO.

           IF ( LSR-LTOUCH-DATE = ZEROES )
              MOVE "1900-01-01" TO QLSR-LTOUCH-DATE
           ELSE
              MOVE LSR-LTOUCH-DATE TO SQL-DATE-YYYYMMDD
              PERFORM SQL-SET-DATE
              MOVE SQL-DATE-YYYY-MM-DD TO QLSR-LTOUCH-DATE.

           MOVE LSR-SCRA-ACTIVE TO QLSR-SCRA-ACTIVE.

           IF ( LSR-SCRA-START-DATE = ZEROES )
              MOVE "1900-01-01" TO QLSR-SCRA-START-DATE
           ELSE
              MOVE LSR-SCRA-START-DATE TO SQL-DATE-YYYYMMDD
              PERFORM SQL-SET-DATE
              MOVE SQL-DATE-YYYY-MM-DD TO QLSR-SCRA-START-DATE.


           IF ( LSR-SCRA-END-DATE = ZEROES )
              MOVE "1900-01-01" TO QLSR-SCRA-END-DATE
           ELSE
              MOVE LSR-SCRA-END-DATE TO SQL-DATE-YYYYMMDD
              PERFORM SQL-SET-DATE
              MOVE SQL-DATE-YYYY-MM-DD TO QLSR-SCRA-END-DATE.

           MOVE LSR-SCRA-BORROWER TO QLSR-SCRA-BORROWER.

           IF ( LSR-CURRENT-RESCHED-DATE = ZEROES )
              MOVE "1900-01-01" TO QLSR-CURRENT-RESCHED-DATE
           ELSE
              MOVE LSR-CURRENT-RESCHED-DATE TO SQL-DATE-YYYYMMDD
              PERFORM SQL-SET-DATE
              MOVE SQL-DATE-YYYY-MM-DD TO QLSR-CURRENT-RESCHED-DATE.

           MOVE LSR-CURRENT-REASON-CODE TO QLSR-CURRENT-REASON-CODE.

           IF ( LSR-INITIAL-RESCHED-DATE = ZEROES )
              MOVE "1900-01-01" TO QLSR-INITIAL-RESCHED-DATE
           ELSE
              MOVE LSR-INITIAL-RESCHED-DATE TO SQL-DATE-YYYYMMDD
              PERFORM SQL-SET-DATE
              MOVE SQL-DATE-YYYY-MM-DD TO QLSR-INITIAL-RESCHED-DATE.

           MOVE LSR-INITIAL-REASON-CODE TO QLSR-INITIAL-REASON-CODE.

           IF ( LSR-INITIAL-TDR-DATE = ZEROES )
              MOVE "1900-01-01" TO QLSR-INITIAL-TDR-DATE
           ELSE
              MOVE LSR-INITIAL-TDR-DATE TO SQL-DATE-YYYYMMDD
              PERFORM SQL-SET-DATE
              MOVE SQL-DATE-YYYY-MM-DD TO QLSR-INITIAL-TDR-DATE.

           MOVE LSR-INITIAL-TDR-REASON TO QLSR-INITIAL-TDR-REASON.

           IF ( LSR-CURRENT-TDR-DATE = ZEROES )
              MOVE "1900-01-01" TO QLSR-CURRENT-TDR-DATE
           ELSE
              MOVE LSR-CURRENT-TDR-DATE TO SQL-DATE-YYYYMMDD
              PERFORM SQL-SET-DATE
              MOVE SQL-DATE-YYYY-MM-DD TO QLSR-CURRENT-TDR-DATE.

           MOVE LSR-CURRENT-TDR-REASON TO QLSR-CURRENT-TDR-REASON.
 

